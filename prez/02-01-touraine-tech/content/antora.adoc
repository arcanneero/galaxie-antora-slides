[state=h_background ponton]
= Antora
image::images/antora.png[width=20%]

üê¶ @antoraproject

[NOTE.speaker]
====
(N)

Au d√©tour d'un caf√©, Gautier parle d'Antora
(D√©cembre 2017- L'alpha n'est pas sortie)
====

== !
image::images/too-busy-to-innovate.png[60%]

[NOTE.speaker]
====
(N)

Premiers tests autour de mars 2018 - Tr√®s mauvais prem√®res impressions

- Structure tr√®s stricte (trop ?) - Convention over configuration
- Et sous Windows, c'√©tait l'enfer... (ssh agent)
====

== Antora

image::images/antora.png[width=20%]

üê¶ @antoraproject

[NOTE.speaker]
====

(G)

Un outil qui traite de vrais probl√®mes qui se posent quand on fait de l'asciidoc :::
 - SEO du site de documentation (public)
 - Aggr√©gation de contenu (1 seul endroit pour r√©cup√©rer un ensemble)
 - Gestion de liens entre les contenus

 Transition pour les fonctionnalit√©s du produit !
====

[state=v_background carte_mere]
== L'aggr√©gateur ou playbook

== !

image::images/playbook.png[width=60%]

[NOTE.speaker]
====
(G)

- Un descripteur - playbook
- Des d√©pots - git
- Un th√®me - ui

====

== Les d√©pots

image::images/descripteur.png[width=60%]

[NOTE.speaker]
====
(G)

- Un descripteur - antora.yml
- Des modules
====

== Les modules

image::./images/arbo-module.png[Arboresence d'un module,40%]

[NOTE.speaker]
====
(G)

`nav.adoc` par convention.
Permet de construire le menu

Assets contient les images et autres ressources
====

[state=v_background siege_paris_1]
== UI

[NOTE.speaker]
====
(N)

Partie sans aucun doute la plus velue.

Customizable moyennant quelques comp√©tances Front-End

https://docs.couchbase.com/home/index.html

====

== handlebars.js

[source, html]
----
{{#if page.versions}}
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">{{page.componentVersion.displayVersion}}</button>
  <div class="versions-menu">
    {{#each page.versions}}
    <a class="version
      {{~#if (eq ./version @root.page.version)}} is-current{{/if~}}
      {{~#if ./missing}} is-missing{{/if}}" href="{{{relativize @root.page.url ./url}}}">{{./displayVersion}}</a>
    {{/each}}
  </div>
</div>
{{/if}}
----

== !

image::./images/antora-docs.png[Default UI,100%]

link:https://docs.antora.org/antora/2.0[Antora]

== !

image::./images/couchbase.png[Couchbase UI,90%]

link:https://docs.couchbase.com/server/6.0/introduction/intro.html[Couchbase]

[state=v_background min_js]
== Regardons un projet...

[NOTE.speaker]
====
(G)

Demonstration Time
====

== Focus sur les liens

[source, adoc]
----
* xref:index.adoc[In-module page]
* xref:other-module:page.adoc[Page in the same component, but a different module]
*** xref:other-module:page.adoc#fragment[A deep link to a page in the same component, but a different module]
*** xref:other-component:module:page.adoc[Page in another component]
----

[NOTE.speaker]
====
(G)
====

[state=v_background simple]
== L'int√©gration dans nos projets

[NOTE.speaker]
====
(N)
====

== Avoir la doc au plus pr√®s du code du produit

[NOTE.speaker]
====
(N)

- Chaque produit contient sa doc
- Constitution de d√©pot sp√©cifique pour les pratiques communes
- Les d√©pots annexes ont aussi leur documentation (infra as code, chatbot d'√©quipe)
====

== Mise en place des processus de dev sur la doc

[NOTE.speaker]
====
(N)

* Merge request / relecture / approbations
* D√©ploiement continu
====

== S√©curisation des acc√®s

image::./images/antora-pipeline.png[80%]

[NOTE.speaker]
====
(N)

Partage des rendu potentiellement sous autentification ::
* Frontal permettant l'acc√®s total (gestion partielle trop complexe)
* Plusieurs aggr√©gateurs (dont certains d√©pots commun) pour plusieurs "set" de droits
====

== Pipeline

image::./images/pipelines.png[80%]

[NOTE.speaker]
====
(N)
====


[state=v_background wall_e]
== Les perspectives et limitations

== Projet vivant

Version 2 publi√©e le 25 d√©cembre 2018

[NOTE.speaker]
====
(N)
====

== Int√©gration d'un moteur de recherche

Doit √™tre int√©gr√© manuellement pour le moment

[NOTE.speaker]
====
(N)

Int√©gration d'un moteur de recherche
- Algolia
- Elasticsearch (fess)
====

== Multi-langues

[NOTE.speaker]
====
(G)

Il existe plusieurs fa√ßon de g√©rer la langue :::
* inclusions multiples d'un composants en pointant sur un dossier diff√©rents par langue
* dans l'arborescence des modules pr√©voir une sous-arboresence par langue d√®s le d√©part
** n√©cessite des adaptations de la UI pour g√©rer les navigations

====

== Am√©liorations en vrac

[NOTE.speaker]
====
Gestion d'un th√®me diff√©rents selon les compsants

Aggr√©gation de slidesdeck

Am√©lioration de la cli


(G)

. Actuellement, nous avons forc√©ment un seul et unique th√®me par playbook
. Besoin tr√®s personnel mais qui serait tr√®s diff√©renciant !
. Divers point :
** G√©n√©rer un squelette de playbook
** G√©n√©rer un nouveau composant
** G√©n√©rer un nouveau module
====