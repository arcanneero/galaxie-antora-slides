= Antora

Petite histoire...

[NOTE.speaker]
====
[N]

Au détour d'un café, Gautier parle d'Antora
(Décembre 2017- L'alpha n'est pas sortie)

Premiers tests autour de mars 2018 - Très mauvais premères impressions

- Structure très stricte (trop ?) - Convention over configuration
- Et sous Windows, c'était l'enfer... (ssh agent)
====

== Kesako ?

[NOTE.speaker]
====
[G] ou [N] ?

Un outil qui traite de vrais problèmes qui se posent quand on fait de l'asciidoc :::
 - SEO du site de documentation (public)
 - Aggrégation de contenu (1 seul endroit pour récupérer un ensemble)
 - Gestion de liens entre les contenus
====

== Les fonctionnalités du produit

== L'aggrégateur ou playbook

- Un descripteur - playbook
- Des dépots - git
- Un thème - ui

[NOTE.speaker]
====
[N]

Structure stricte
====

== Les dépots

- Un descripteur - antora.yml
- Des modules

[NOTE.speaker]
====
[N]
====

== Le descripteur

[source,yaml]
----
name: component-a 
title: Component A 
version: '1.0' 
start_page: module:filename.adoc 
nav: 
- modules/ROOT/nav.adoc
- modules/module-three/nav.adoc
- ...
----

[NOTE.speaker]
====

====

== Les modules

image::./images/root-dir.svg[Arboresence d'un module, 50%]

[NOTE.speaker]
====
[G]

`nav.adoc` par convention.
Permet de construire le menu

Assets contient les images et autres ressources
====

== La UI

Utilise Handlbars

[NOTE.speaker]
====
[N]

Partie sans aucun doute la plus velue.

Customizable moyennant quelques compétances Front-End
====

[state=v_background min_js]
== Regardons un projet...

[NOTE.speaker]
====
[G]

Demonstration Time
====

== L'intégration dans nos projets

[NOTE.speaker]
====
[N]
====

== Avoir la doc au plus près du code du produit

[NOTE.speaker]
====
[N]

- Chaque produit contient sa doc
- Constitution de dépot spécifique pour les pratiques communes
- Les dépots annexes ont aussi leur documentation (infra as code, chatbot d'équipe)
====

== Mise en place des processus de dev sur la doc

[NOTE.speaker]
====
[G]

* Merge request / relecture / approbations
* Déploiement continu
====

== Sécurisation des accès

- Frontal d'accès
- Gestion de plusieurs déploiements

[NOTE.speaker]
====
[N]

Partage des rendu potentiellement sous autentification ::
* Frontal permettant l'accès total (gestion partielle trop complexe)
* Plusieurs aggrégateurs (dont certains dépots commun) pour plusieurs "set" de droits
====

== Les perspectives et limitations

== Projet vivant

Version 2 publiée le 25 décembre 2018

[NOTE.speaker]
====
[G]
====

== Intégration d'un moteur de recherche

Doit être intégré manuellement pour le moment

[NOTE.speaker]
====
[N]

Intégration d'un moteur de recherche
- Algolia
- Elasticsearch (fess)
====

== En vrac

- Gestion d'un thème différents selon les compsants
- Aggrégation de slidesdeck
- Amélioration de la cli

[NOTE.speaker]
====
[N]

. Actuellement, nous avons forcément un seul et unique thème par playbook
. Besoin très personnel mais qui serait très différenciant !
. Divers point :
** Générer un squelette de playbook
** Générer un nouveau composant
** Générer un nouveau module
====